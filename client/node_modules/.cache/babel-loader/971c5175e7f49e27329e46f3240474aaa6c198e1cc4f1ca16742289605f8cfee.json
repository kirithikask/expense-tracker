{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{Swiper,SwiperSlide}from'swiper/react';import{Pagination,Navigation}from'swiper';import'swiper/css';import'swiper/css/pagination';import'swiper/css/navigation';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ExpenseList=()=>{const[expenses,setExpenses]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');useEffect(()=>{fetchExpenses();},[]);const fetchExpenses=async()=>{try{const res=await axios.get('http://localhost:5000/api/expenses');setExpenses(res.data);}catch(err){setError('Failed to fetch expenses');}finally{setLoading(false);}};const deleteExpense=async id=>{if(window.confirm('Are you sure you want to delete this expense?')){try{await axios.delete(\"http://localhost:5000/api/expenses/\".concat(id));setExpenses(expenses.filter(expense=>expense._id!==id));}catch(err){setError('Failed to delete expense');}}};const formatDate=date=>{return new Date(date).toLocaleDateString('en-US',{year:'numeric',month:'short',day:'numeric'});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center py-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-accent\"})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-500/10 border border-red-500/20 rounded-xl p-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-red-400\",children:error})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-accent\",children:\"Recent Expenses\"}),expenses.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"card text-center py-12\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-textSecondary mb-4\",children:\"No expenses yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-textSecondary\",children:\"Start tracking your expenses to see them here\"})]}):/*#__PURE__*/_jsx(Swiper,{modules:[Pagination,Navigation],spaceBetween:20,slidesPerView:1,breakpoints:{640:{slidesPerView:2},1024:{slidesPerView:3}},pagination:{clickable:true},navigation:true,className:\"pb-12\",children:expenses.map(expense=>/*#__PURE__*/_jsx(SwiperSlide,{children:/*#__PURE__*/_jsx(\"div\",{className:\"card h-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-textPrimary mb-1\",children:[\"$\",expense.amount.toFixed(2)]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-textSecondary text-sm mb-2\",children:expense.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bg-accent/20 text-accent px-2 py-1 rounded-lg text-xs font-medium\",children:expense.category}),/*#__PURE__*/_jsx(\"span\",{className:\"text-textSecondary text-xs\",children:formatDate(expense.date)})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteExpense(expense._id),className:\"text-red-400 hover:text-red-300 p-2 rounded-lg hover:bg-red-500/10 transition-colors\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"})})})]})})},expense._id))})]});};export default ExpenseList;","map":{"version":3,"names":["React","useState","useEffect","axios","Swiper","SwiperSlide","Pagination","Navigation","jsx","_jsx","jsxs","_jsxs","ExpenseList","expenses","setExpenses","loading","setLoading","error","setError","fetchExpenses","res","get","data","err","deleteExpense","id","window","confirm","delete","concat","filter","expense","_id","formatDate","date","Date","toLocaleDateString","year","month","day","className","children","length","modules","spaceBetween","slidesPerView","breakpoints","pagination","clickable","navigation","map","amount","toFixed","description","category","onClick","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d"],"sources":["C:/Users/kirithka/Desktop/expense tracker/client/src/components/ExpenseList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\nimport { Pagination, Navigation } from 'swiper';\r\nimport 'swiper/css';\r\nimport 'swiper/css/pagination';\r\nimport 'swiper/css/navigation';\r\n\r\nconst ExpenseList = () => {\r\n  const [expenses, setExpenses] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchExpenses();\r\n  }, []);\r\n\r\n  const fetchExpenses = async () => {\r\n    try {\r\n      const res = await axios.get('http://localhost:5000/api/expenses');\r\n      setExpenses(res.data);\r\n    } catch (err) {\r\n      setError('Failed to fetch expenses');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const deleteExpense = async (id) => {\r\n    if (window.confirm('Are you sure you want to delete this expense?')) {\r\n      try {\r\n        await axios.delete(`http://localhost:5000/api/expenses/${id}`);\r\n        setExpenses(expenses.filter(expense => expense._id !== id));\r\n      } catch (err) {\r\n        setError('Failed to delete expense');\r\n      }\r\n    }\r\n  };\r\n\r\n  const formatDate = (date) => {\r\n    return new Date(date).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric'\r\n    });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center py-12\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-accent\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"bg-red-500/10 border border-red-500/20 rounded-xl p-4\">\r\n        <p className=\"text-red-400\">{error}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <h2 className=\"text-2xl font-bold text-accent\">Recent Expenses</h2>\r\n\r\n      {expenses.length === 0 ? (\r\n        <div className=\"card text-center py-12\">\r\n          <p className=\"text-textSecondary mb-4\">No expenses yet</p>\r\n          <p className=\"text-sm text-textSecondary\">Start tracking your expenses to see them here</p>\r\n        </div>\r\n      ) : (\r\n        <Swiper\r\n          modules={[Pagination, Navigation]}\r\n          spaceBetween={20}\r\n          slidesPerView={1}\r\n          breakpoints={{\r\n            640: { slidesPerView: 2 },\r\n            1024: { slidesPerView: 3 }\r\n          }}\r\n          pagination={{ clickable: true }}\r\n          navigation\r\n          className=\"pb-12\"\r\n        >\r\n          {expenses.map((expense) => (\r\n            <SwiperSlide key={expense._id}>\r\n              <div className=\"card h-full\">\r\n                <div className=\"flex justify-between items-start mb-4\">\r\n                  <div className=\"flex-1\">\r\n                    <h3 className=\"text-lg font-semibold text-textPrimary mb-1\">\r\n                      ${expense.amount.toFixed(2)}\r\n                    </h3>\r\n                    <p className=\"text-textSecondary text-sm mb-2\">{expense.description}</p>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <span className=\"bg-accent/20 text-accent px-2 py-1 rounded-lg text-xs font-medium\">\r\n                        {expense.category}\r\n                      </span>\r\n                      <span className=\"text-textSecondary text-xs\">\r\n                        {formatDate(expense.date)}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                  <button\r\n                    onClick={() => deleteExpense(expense._id)}\r\n                    className=\"text-red-400 hover:text-red-300 p-2 rounded-lg hover:bg-red-500/10 transition-colors\"\r\n                  >\r\n                    <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n                    </svg>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </SwiperSlide>\r\n          ))}\r\n        </Swiper>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ExpenseList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}