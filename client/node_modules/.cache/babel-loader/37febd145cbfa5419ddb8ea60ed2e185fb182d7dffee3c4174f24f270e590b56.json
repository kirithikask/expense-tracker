{"ast":null,"code":"import React,{useState,useEffect}from'react';import Sidebar from'../components/Sidebar';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Log=()=>{const[transactions,setTransactions]=useState([]);useEffect(()=>{// Fetch transactions from API\nconst fetchTransactions=async()=>{try{const response=await fetch('/api/expenses',{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});if(response.ok){const data=await response.json();setTransactions(data);}}catch(error){console.error('Error fetching transactions:',error);}};fetchTransactions();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-60 flex-1 bg-gray-50 min-h-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-800 mb-8\",children:\"Transaction Log\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow overflow-hidden\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Amount\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:transactions.map(transaction=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:new Date(transaction.date).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:transaction.description}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:transaction.category}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:[\"$\",transaction.amount.toFixed(2)]})]},transaction._id))})]})})]})})]});};export default Log;","map":{"version":3,"names":["React","useState","useEffect","Sidebar","jsx","_jsx","jsxs","_jsxs","Log","transactions","setTransactions","fetchTransactions","response","fetch","headers","concat","localStorage","getItem","ok","data","json","error","console","className","children","map","transaction","Date","date","toLocaleDateString","description","category","amount","toFixed","_id"],"sources":["C:/Users/kirithka/Desktop/expense tracker/client/src/pages/Log.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Sidebar from '../components/Sidebar';\r\n\r\nconst Log = () => {\r\n  const [transactions, setTransactions] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // Fetch transactions from API\r\n    const fetchTransactions = async () => {\r\n      try {\r\n        const response = await fetch('/api/expenses', {\r\n          headers: {\r\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n          }\r\n        });\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          setTransactions(data);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching transactions:', error);\r\n      }\r\n    };\r\n\r\n    fetchTransactions();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"flex\">\r\n      <Sidebar />\r\n      <div className=\"ml-60 flex-1 bg-gray-50 min-h-screen\">\r\n        <div className=\"p-8\">\r\n          <h1 className=\"text-3xl font-bold text-gray-800 mb-8\">Transaction Log</h1>\r\n          <div className=\"bg-white rounded-lg shadow overflow-hidden\">\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Date\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Description\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Category\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Amount\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {transactions.map((transaction) => (\r\n                  <tr key={transaction._id}>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                      {new Date(transaction.date).toLocaleDateString()}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                      {transaction.description}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                      {transaction.category}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                      ${transaction.amount.toFixed(2)}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Log;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}